{
    "//comment1":"Commandsequences defines which commands to send in a row.",
    "commandsequences": [
        {"name": "set-wifi", "seq":["get_wifi_device_id","get_wifi_device_info","set_wifi_ssid","set_wifi_pw","restart_wifi"],"desc": "sets wifi datalogger network via wireless AP","args": "[datalogger ip address] [ssid] [password]" },
        {"name": "factory-reset-wifi", "seq":["factory_reset_wifi"],"desc": "wifi datalogger factory reset","args": "[datalogger ip address]" },
        {"name": "restart-wifi", "seq":["restart_wifi"],"desc": "wifi datalogger reset","args": "[datalogger ip address]" },
        {"name": "query-modbus", "seq":["query_modbus"],"desc": "query modbus register","args": "[datalogger ip address] [raw_modbus_packet_hex]" },
        {"name": "get-device-info", "seq":["get_wifi_device_id","get_wifi_device_info"],"desc": "gets wifi datalogger device id and other info","args": "[datalogger ip address]" },
        {"name": "get-smg-param", "seq":["get_smg_param"],"desc": "Get ISolar SMG II 5.6 inverter param value","args": "[datalogger ip address]" },
        {"name": "get-smg-out-prio", "seq":["get_smg_out_prio"],"desc": "Get Output priority","args": "[datalogger ip address]" },
        {"name": "set-smg-param", "seq":["set_smg_param"],"desc": "Set ISolar SMG II 5.6 inverter param value WARNING: this is dangerous and experimental!","args": "[datalogger ip address] [parameter number] [new value]" }
    ],
    "//comment2":"Commands defines modbus tcp commands: some commands are for the wifi plug pro(clean modbus tcp frame: 2byte transaction id, 2byte protocol id, 2byte length, data: 1byte unit id, 1byte funtion code, etc. ), others are handled by the gateway and sent to the modbus rtu device on serial line.",
    "//comment3":"Modbus commands for the device: 2byte transaction id, 2byte protocol id, 2byte length, data: 1byte unit id, 1byte funtion code, (modbus rtu packet:  1byte unit id, 1byte funtion code(for the inverter), 2byte register address, 2byte register offset, 2byte crc( crc16/MODBUS: from the beginning of the modbus rtu packet)) ",
    "commands": [
        {"name": "get_wifi_device_id","cmd": "{SEQ}0001000aff01160b0a16102d012c"},
        {"name": "set_wifi_ssid","cmd": "{SEQ}0001{LEN}ff0329{ARG2}"},
        {"name": "set_wifi_pw","cmd": "{SEQ}0001{LEN}ff032b{ARG3}"},
        {"name": "restart_wifi","cmd": "{SEQ}00010004ff031d31"},
        {"name": "factory_reset_wifi","cmd": "{SEQ}00010004ff031d32"},
        {"name": "get_wifi_device_info","cmd": "{SEQ}00010003ff0205"},
        {"name": "get_wifi_device_id","cmd": "{SEQ}0001000aff01160b0a16102d012c"},
        {"name": "query_modbus","cmd": "{ARG2}","raw": true},
        {"name": "get_smg_out_prio","cmd": "{SEQ}0102000aff040103e2040001f3b3", "/*!example form param get/set: whole modbus rtu packet in modbus tcp*/":""},
        {"name": "set_smg_param","cmd": "{SEQ}0102{LEN}ff040110{ARGP2}{ARGV3}{CRC}", "definition": "set_smg_param"},
        {"name": "get_smg_param","cmd": "{SEQ}0102{LEN}ff040103{PARAM}{CRC}", "definition":
            [
                {"num":"001","name":"OutputPriority","address":"012D","type":"UInt16BE","unit": ["UTI","SOL","SBU","SUB"]},
                {"num":"501","name":"PV average voltage","address":"00DB","type":"UInt16BE","rate": 0.1,"format": 1,"unit": "V"},
                {"num":"502","name":"Grid voltage","address":"00CA","type":"UInt16BE","rate": 0.1,"format": 1,"unit": "V"},
                {"num":"503","name":"Output voltage","address":"00D2","type":"UInt16BE","rate": 0.1,"format": 1,"unit": "V"},
                {"num":"511","name":"PV average power","address":"00DF","type":"UInt16BE","rate": 1,"format": 0,"unit": "W"},
                {"num":"512","name":"Grid average power","address":"00CC","type":"UInt16BE","rate": 1,"format": 0,"unit": "W"},
                {"num":"513","name":"Battery average power","address":"00D9","type":"UInt16BE","rate": 1,"format": 0,"unit": "W"},
                {"num":"514","name":"Output active power","address":"00D5","type":"UInt16BE","rate": 1,"format": 0,"unit": "W"},
                {"num":"601","name":"DCDC temperature","address":"00E2","type":"Int16BE","rate": 1,"format": 0,"unit": "deg C"},
                {"num":"602","name":"Inverter temperature","address":"00E3","type":"Int16BE","rate": 1,"format": 0,"unit": "deg C"},
		{"num":"603","name":"Fault","address":"0064","type":4,"format":101,"unit":[
                "00. OK",
                "01. Inverter over temperature",
                "02. DC-DC over temperature",
                "03. Battery voltage is too high",
                "04. Over Temperature of PV module",
                "05. Output short circuited",
                "06. Output voltage is too high",
                "07. Output voltage is too high",
                "08. Bus voltage is too hig",
                "09. Bus soft start failed",
                "10. PV over current",
                "11. PV over voltage",
                "12. DCDC over current",
                "13. Inverter over current",
                "14. Bus voltage is too low",
                "15. Inverter failed (self checking)",
                "16. Over DC voltage in AC output",
                "17. Reserved",
                "18. Output current offset is too high",
                "19. Inverter current offset is too high",
                "20. DCDC current offset is too high",
                "21. PVcurrent offset is too high",
                "22. Output voltage is too low",
                "23. Inverter negative power",
                "24. The host data is lost in the parallel system",
                "25. Synchronization data lost in the parallel system",
                "26. Incompatible battery type",
                "27. Firmware versuin is inconsistent in the parallel system"
                ]},


            ]
        }
    ]
}
